---
import Layout from '../layouts/Layout.astro';
import LayoutComponent from '../components/Layout';
import GitHubContent from '../components/GitHubContent';

const fallbackReadme = `# Welcome to KaneDocs

A modern, clean documentation website that automatically pulls content from your GitHub repositories.

## Features

- üöÄ **GitHub Integration** - Automatically syncs with your repository
- üåô **Dark Mode** - Beautiful light and dark themes
- üì± **Mobile Responsive** - Perfect on all devices
- üé® **Syntax Highlighting** - Code blocks with copy functionality
- üîç **Search** - Quick documentation search
- üìù **Markdown Support** - Full GitHub-flavored markdown

## Getting Started

To get started with KaneDocs:

1. Fork this repository
2. Update the GitHub repository settings
3. Deploy to Netlify or your preferred hosting platform
4. Your documentation will automatically update when you push changes

## Configuration

Configure your documentation by editing the sidebar navigation and GitHub repository settings.

\`\`\`javascript
// Example configuration
const config = {
  repo: 'your-username/your-repo',
  theme: 'auto',
  search: true
};
\`\`\`

## Support

For questions and support, please open an issue on GitHub.
`;
---

<Layout title="KaneDocs - Modern Documentation">
  <LayoutComponent client:load>
    <div class="max-w-4xl mx-auto px-6 py-8 lg:px-8">
      <div class="mb-8">
        <h1 class="text-4xl font-bold mb-4 bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent">
          Welcome to KaneDocs
        </h1>
        <p class="text-xl text-gray-600 dark:text-gray-400">
          Modern documentation for your software projects, automatically synced with GitHub.
        </p>
      </div>

      <!-- GitHub Content -->
      <GitHubContent 
        client:load
        repo="microsoft/vscode"
        path="README.md"
        fallbackContent={fallbackReadme}
      />
    </div>
  </LayoutComponent>

  <!-- Add highlight.js theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" class="light-theme">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" class="dark-theme">

  <style>
    /* Custom prose styles */
    .prose {
      @apply text-gray-700 dark:text-gray-300;
    }
    
    .prose h1 {
      @apply text-3xl font-bold text-gray-900 dark:text-white mb-6 pb-2 border-b border-gray-200 dark:border-gray-700;
    }
    
    .prose h2 {
      @apply text-2xl font-semibold text-gray-900 dark:text-white mb-4 mt-8;
    }
    
    .prose h3 {
      @apply text-xl font-semibold text-gray-900 dark:text-white mb-3 mt-6;
    }
    
    .prose p {
      @apply mb-4 leading-7;
    }
    
    .prose ul, .prose ol {
      @apply mb-4 ml-6;
    }
    
    .prose li {
      @apply mb-2;
    }
    
    .prose blockquote {
      @apply border-l-4 border-primary-500 pl-4 italic bg-gray-50 dark:bg-gray-800 py-2 my-4 rounded-r-lg;
    }
    
    .prose code {
      @apply bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm font-mono text-primary-600 dark:text-primary-400;
    }
    
    .prose pre {
      @apply bg-gray-900 dark:bg-gray-950 p-4 rounded-lg overflow-x-auto mb-4 relative;
    }
    
    .prose pre code {
      @apply bg-transparent text-gray-100 p-0 text-sm;
    }
    
    .prose a {
      @apply text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors;
    }
    
    .prose table {
      @apply w-full border-collapse border border-gray-200 dark:border-gray-700 mb-4;
    }
    
    .prose th, .prose td {
      @apply border border-gray-200 dark:border-gray-700 px-4 py-2 text-left;
    }
    
    .prose th {
      @apply bg-gray-50 dark:bg-gray-800 font-semibold;
    }

    /* Theme-specific highlight.js styles */
    .light-theme {
      display: block;
    }
    
    .dark-theme {
      display: none;
    }
    
    html.dark .light-theme {
      display: none;
    }
    
    html.dark .dark-theme {
      display: block;
    }
  </style>
</Layout>